import{$ as e,A as t,B as n,F as r,G as i,I as a,K as o,L as s,M as c,N as l,P as u,Q as d,R as f,W as p,X as m,at as h,it as g,j as _,nt as v,o as y,q as b,r as x,st as S,u as C,w}from"./Bf-bIFmc.js";import{a as T,i as E,t as D}from"./eaia5yU4.js";import"./zJRtDlf6.js";import{t as O}from"./CNUFAroT.js";var k=[`open`],A={block:``},j={class:`absolute right-[calc(100%+10px)] top-1.5`,"text-right":``,"font-mono":``,op35:``,"lt-lg:hidden":``},M={flex:`~ gap-2 items-start wrap items-center`,"cursor-pointer":``,"select-none":``,"bg-hover":``,px2:``,py2:``,"text-sm":``,"font-mono":``},N={flex:``,"flex-auto":``,"flex-col":``,"gap-3":``,"md:flex-row":``},P={"flex-auto":``,flex:`~ gap-2 items-center`},F={key:2,op50:``},I={flex:`~ gap-2 items-start wrap`},L={"pointer-events-none":``,absolute:``,"right-2":``,"top-2":``,"text-right":``,"text-5em":``,"font-mono":``,op5:``},R={key:0,flex:`~ col gap-4`,"of-auto":``,px4:``,py4:``},z={flex:`~ gap-2 items-center`},B={flex:`~ col gap-1`,ml6:``,"mt--2":``},V={badge:``,"text-start":``},ee={key:0,"max-h":`50vh`,"min-w-100":``},H={flex:`~ items-center gap-2`,p3:``},U=[`onClick`],W={p3:``,border:`t base`},G={flex:`~ gap-2 items-start`},K={flex:`~ col gap-2`},q={flex:`~ gap-2 items-center wrap`},J={flex:`~ gap-1 wrap`,ml6:``,"mt--2":``},Y={flex:`~ gap-2 items-center`},X={flex:`~ col gap-1`,ml7:``,"mt--2":``},Z=f({__name:`FileGroupItem`,props:n({index:{},group:{}},{open:{default:!0},openModifiers:{}}),emits:[`update:open`],setup(n){let f=n,h=m(n,`open`),g=v(h.value);if(!g.value){let e=d(()=>{h.value&&(g.value=!0,e())})}let y=_(()=>{if(f.group.configs.length===1)return{type:`config`,config:f.group.configs[0]};if(f.group.globs.size<=2)return{type:`glob`,globs:[...f.group.globs.values()]}}),x=w();function C(e){x.push(`/configs?index=${e+1}`)}return(d,f)=>{let m=E,_=D,v=O,x=b(`VDropdown`),w=T;return p(),r(`details`,{class:`flat-config-item`,open:h.value,border:`~ base rounded-lg`,relative:``,onToggle:f[0]||=e=>h.value=e.target.open},[c(`summary`,A,[c(`div`,j,` #`+S(n.index+1),1),c(`div`,M,[f[3]||=c(`div`,{class:`[details[open]_&]:rotate-90`,"i-ph-caret-right":``,op50:``,transition:``},null,-1),c(`div`,N,[c(`span`,P,[y.value?.type===`config`?(p(),r(t,{key:0},[f[1]||=c(`span`,{op75:``},`Config`,-1),s(m,{badge:``,name:y.value.config.name,index:y.value.config.index},null,8,[`name`,`index`])],64)):y.value?.type===`glob`?(p(),r(t,{key:1},[f[2]||=c(`span`,{op75:``},`Globs`,-1),(p(!0),r(t,null,i(y.value.globs,(e,t)=>(p(),l(_,{key:t,glob:e},null,8,[`glob`]))),128))],64)):(p(),r(`span`,F,` Files group #`+S(n.index+1),1))]),c(`div`,I,[s(v,{icon:`i-ph-files-duotone`,number:n.group.files?.length||0,color:`text-yellow5`,title:`Files`},null,8,[`number`]),s(v,{icon:`i-ph-stack-duotone`,number:n.group.configs.length,color:`text-blue5 dark:text-blue4`,title:`Configs`,"mr-2":``},null,8,[`number`])])])])]),c(`div`,L,` #`+S(n.index+1),1),g.value?(p(),r(`div`,R,[c(`div`,z,[f[4]||=c(`div`,{"i-ph-stack-duotone":``,"flex-none":``},null,-1),c(`div`,null,`Configs Specific to the Files (`+S(n.group.configs.length)+`)`,1)]),c(`div`,B,[(p(!0),r(t,null,i(n.group.configs,(h,g)=>(p(),r(`div`,{key:g,"font-mono":``,flex:`~ gap-2`},[s(x,null,{popper:e(({shown:e})=>[e?(p(),r(`div`,ee,[c(`div`,H,[c(`button`,{"btn-action-sm":``,title:`Copy`,onClick:e=>C(h.index)},[...f[5]||=[c(`div`,{"i-ph-stack-duotone":``},null,-1),a(` Go to this config `,-1)]],8,U),o(d.$slots,`popup-actions`)]),c(`div`,W,[c(`div`,G,[f[7]||=c(`div`,{"i-ph-file-magnifying-glass-duotone":``,my1:``,"flex-none":``,op75:``},null,-1),c(`div`,K,[f[6]||=c(`div`,{op50:``},` Applies to files matching `,-1),c(`div`,q,[(p(!0),r(t,null,i(h.files?.flat(),(e,t)=>(p(),l(_,{key:t,glob:e,active:n.group.globs.has(e)},null,8,[`glob`,`active`]))),128))])])])])])):u(``,!0)]),default:e(()=>[c(`button`,V,[s(m,{name:h.name,index:g},null,8,[`name`,`index`])])]),_:2},1024)]))),128))]),f[9]||=c(`div`,{flex:`~ gap-2 items-center`},[c(`div`,{"i-ph-file-magnifying-glass-duotone":``,"flex-none":``}),c(`div`,null,`Matched Globs`)],-1),c(`div`,J,[(p(!0),r(t,null,i(n.group.globs,(e,t)=>(p(),l(_,{key:t,glob:e},null,8,[`glob`]))),128))]),c(`div`,Y,[f[8]||=c(`div`,{"i-ph-files-duotone":``,"flex-none":``},null,-1),c(`div`,null,`Matched Local Files (`+S(n.group.files.length)+`)`,1)]),c(`div`,X,[(p(!0),r(t,null,i(n.group.files,e=>(p(),l(w,{key:e,"font-mono":``,filepath:e},null,8,[`filepath`]))),128))])])):u(``,!0)],40,k)}}}),Q=Object.assign(Z,{__name:`FileGroupItem`}),$={key:0,flex:`~ col gap-4`,my4:``},te={flex:`~ gap-2 items-center`},ne={border:`~ base rounded`,flex:`~ inline`},re={key:0,flex:`~ gap-2 col`},ie={key:1},ae={flex:`~ gap-2 items-center`},oe={flex:`~ col gap-1`,py4:``,"font-mono":``},se={key:1},ce=f({__name:`files`,setup(e){function n(){y.value=y.value.map(()=>!0)}function o(){y.value=y.value.map(()=>!1)}return(e,s)=>{let d=Q,f=T;return g(x).filesResolved?(p(),r(`div`,$,[s[7]||=c(`div`,{"text-gray:75":``},[a(` This tab shows the preview for files match from the workspace. This feature is `),c(`span`,{"text-amber":``},`experimental`),a(` and may not be 100% accurate. `)],-1),c(`div`,te,[c(`div`,ne,[c(`button`,{class:h(g(C).viewFilesTab===`list`?`btn-action-active`:`op50`),"btn-action":``,"border-none":``,onClick:s[0]||=e=>g(C).viewFilesTab=`list`},[...s[2]||=[c(`div`,{"i-ph-files-duotone":``},null,-1),c(`span`,null,`List`,-1)]],2),s[4]||=c(`div`,{border:`l base`},null,-1),c(`button`,{class:h(g(C).viewFilesTab===`group`?`btn-action-active`:`op50`),"btn-action":``,"border-none":``,onClick:s[1]||=e=>g(C).viewFilesTab=`group`},[...s[3]||=[c(`div`,{"i-ph-rows-duotone":``},null,-1),c(`span`,null,`File Groups`,-1)]],2)]),s[5]||=c(`div`,{"flex-auto":``},null,-1),g(C).viewFilesTab===`group`?(p(),r(t,{key:0},[c(`button`,{"btn-action":``,px3:``,onClick:n},` Expand All `),c(`button`,{"btn-action":``,px3:``,onClick:o},` Collapse All `)],64)):u(``,!0)]),g(C).viewFilesTab===`group`?(p(),r(`div`,re,[(p(!0),r(t,null,i(g(x).filesResolved.groups,(e,t)=>(p(),l(d,{key:e.id,open:g(y)[t],"onUpdate:open":e=>g(y)[t]=e,group:e,index:t},null,8,[`open`,`onUpdate:open`,`group`,`index`]))),128))])):(p(),r(`div`,ie,[c(`div`,ae,[s[6]||=c(`div`,{"i-ph-files-duotone":``,"flex-none":``},null,-1),c(`div`,null,`Matched Local Files (`+S(g(x).filesResolved.list.length)+`)`,1)]),c(`div`,oe,[(p(!0),r(t,null,i(g(x).filesResolved.list,e=>(p(),l(f,{key:e,filepath:e},null,8,[`filepath`]))),128))])]))])):(p(),r(`div`,se,[...s[8]||=[c(`div`,{p3:``,italic:``,op50:``},` No matched files found in the workspace. `,-1)]]))}}});export{ce as default};