import{g as O,m as A,j as B,c as p,o as u,F as D,s as N,D as j,a as s,E as U,x as G,d as h,t as c,A as w,G as M,l as y,z as d,H as o,r as R,I as L,b as x,J as z,y as n,w as T,v as V,q as v,K as E,B as _}from"./CmtEZGNH.js";import{F as q,_ as I,a as H}from"./DM2Iv_Px.js";import{g as F}from"./DcKMyLUs.js";const J={flex:"~ inline gap-1 wrap","of-hidden":"","text-sm":""},K=["title"],W=["value","title"],Q=O({__name:"OptionSelectGroup",props:A({options:{},titles:{},classes:{},props:{}},{modelValue:{type:[String,Number]},modelModifiers:{}}),emits:["update:modelValue"],setup(C){const m=B(C,"modelValue");return(r,g)=>(u(),p("fieldset",J,[(u(!0),p(D,null,N(r.options,(f,a)=>(u(),p("label",j({key:f,border:"~ base rounded-full",relative:"","px2.5":"","py0.5":"","hover:bg-hover":"",class:[f===m.value?"bg-active":"saturate-0 hover:saturate-100",r.props?.[a]?.class||""]},{ref_for:!0},r.props?.[a],{title:r.titles?.[a]}),[s("div",{class:w([f===m.value?"":"op50",r.titles?.[a]?"":"capitalize",r.classes?.[a]||""])},[G(r.$slots,"default",{value:f,title:r.titles?.[a],index:a},()=>[h(c(r.titles?.[a]??f),1)])],2),U(s("input",{"onUpdate:modelValue":g[0]||(g[0]=k=>m.value=k),type:"radio",value:f,title:r.titles?.[a],absolute:"","inset-0":"","op-0.1":""},null,8,W),[[M,m.value]])],16,K))),128))]))}}),X=Object.assign(Q,{__name:"OptionSelectGroup"}),Y={py4:"",flex:"~ col gap-2"},Z={relative:"",flex:""},ee={grid:"~ cols-[max-content_1fr] gap-2",my2:"","items-center":""},te={class:"flex items-center"},le={"ml--1":"","mr-1":"",flex:"","items-center":""},oe={flex:"","items-center":"","gap-1":""},se={key:0,"i-ph-check-square-duotone":"","ml--0.5":"","text-green":""},ne={key:1,"i-ph-wrench-duotone":"","ml--0.5":"","text-amber":""},re={key:2,"i-ph-prohibit-inset-duotone":"","ml--1":"","text-gray":""},ae={"items-center":"","justify-between":"","gap-2":"","md:flex":""},ie={flex:"~ gap-2","lt-sm:flex-col":""},ue={flex:"~ inline gap-2 items-center",border:"~ gray/20 rounded-full","bg-gray:10":"",px3:"",py1:""},de={op75:""},pe={"text-sm":"",op50:""},me={key:0,flex:"~ gap-1"},ce=O({__name:"rules",setup(C){const m=y(()=>Object.values(d.value.rules)),r=y(()=>Array.from(new Set(m.value.map(t=>t.plugin))).filter(Boolean)),g=y(()=>{let t=m.value;switch(o.plugin&&(t=t.filter(e=>e.plugin===o.plugin)),o.fixable!=null&&(t=t.filter(e=>!!e.fixable===o.fixable)),o.state){case"using":t=t.filter(e=>d.value.ruleToState.get(e.name));break;case"unused":t=t.filter(e=>!d.value.ruleToState.get(e.name));break;case"overloads":t=t.filter(e=>(d.value.ruleToState.get(e.name)?.length||0)>1);break;case"error":t=t.filter(e=>d.value.ruleToState.get(e.name)?.some(i=>i.level==="error"));break;case"warn":t=t.filter(e=>d.value.ruleToState.get(e.name)?.some(i=>i.level==="warn"));break;case"off":t=t.filter(e=>d.value.ruleToState.get(e.name)?.some(i=>i.level==="off"));break;case"off-only":t=t.filter(e=>{const i=d.value.ruleToState.get(e.name);return i?.length?i.every(b=>b.level==="off"):!1});break}switch(o.status){case"active":t=t.filter(e=>!e.deprecated);break;case"recommended":t=t.filter(e=>e.docs?.recommended);break;case"fixable":t=t.filter(e=>e.fixable);break;case"deprecated":t=t.filter(e=>e.deprecated);break}return t}),f=y(()=>new q(g.value,{keys:["name","docs.description"],threshold:.5})),a=R(g.value);L(()=>[o.search,g.value],()=>{if(!o.search)return a.value=g.value;a.value=f.value.search(o.search).map(t=>t.item)},{debounce:200});const k=y(()=>!(o.search||o.plugin||o.state!=="using"||o.status!=="active"));function $(){o.search="",o.plugin="",o.state="using",o.status="active"}return(t,e)=>{const i=X,b=I,P=H;return u(),p("div",null,[s("div",Y,[s("div",Z,[U(s("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>n(o).search=l),class:w(n(o).search?"font-mono":""),placeholder:"Search rules...",border:"~ base rounded-full","w-full":"","bg-transparent":"",px3:"",py2:"",pl10:"","outline-none":""},null,2),[[z,n(o).search]]),e[7]||(e[7]=s("div",{absolute:"","bottom-0":"","left-0":"","top-0":"",flex:"~ items-center justify-center",p4:"",op50:""},[s("div",{"i-ph-magnifying-glass-duotone":""})],-1))]),s("div",ee,[e[8]||(e[8]=s("div",{"text-right":"","text-sm":"",op50:""}," Plugins ",-1)),x(i,{modelValue:n(o).plugin,"onUpdate:modelValue":e[1]||(e[1]=l=>n(o).plugin=l),options:["",...r.value],titles:["All",...r.value],props:[{},...r.value.map(l=>({class:"font-mono",style:n(o).plugin===l?{color:("getPluginColor"in t?t.getPluginColor:n(F))(l),backgroundColor:("getPluginColor"in t?t.getPluginColor:n(F))(l,.1)}:{}}))]},null,8,["modelValue","options","titles","props"]),e[9]||(e[9]=s("div",{"text-right":"","text-sm":"",op50:""}," Usage ",-1)),x(i,{modelValue:n(o).state,"onUpdate:modelValue":e[2]||(e[2]=l=>n(o).state=l),options:["","using","unused","error","warn","off","overloads","off-only"],titles:["All","Using","Unused","Error","Warn","Off","Overloaded","Off Only"]},{default:T(({value:l,title:S})=>[s("div",te,[s("div",le,[l==="error"||l==="overloads"?(u(),V(b,{key:0,level:"error"})):v("",!0),l==="warn"||l==="overloads"?(u(),V(b,{key:1,level:"warn"})):v("",!0),l==="off"||l==="off-only"||l==="overloads"?(u(),V(b,{key:2,level:"off"})):v("",!0)]),h(" "+c(S||l),1)])]),_:1},8,["modelValue"]),e[10]||(e[10]=s("div",{"text-right":"","text-sm":"",op50:""}," State ",-1)),x(i,{modelValue:n(o).status,"onUpdate:modelValue":e[3]||(e[3]=l=>n(o).status=l),options:["","active","recommended","fixable","deprecated"],titles:["All","Active","Recommended","Fixable","Deprecated"]},{default:T(({value:l,title:S})=>[s("div",oe,[l==="recommended"?(u(),p("div",se)):v("",!0),l==="fixable"?(u(),p("div",ne)):v("",!0),l==="deprecated"?(u(),p("div",re)):v("",!0),h(" "+c(S||l),1)])]),_:1},8,["modelValue"])])]),s("div",ae,[s("div",ie,[s("div",ue,[e[11]||(e[11]=s("div",{"i-ph-list-checks-duotone":""},null,-1)),s("span",null,c(a.value.length),1),s("span",de,"rules "+c(k.value?"enabled":"filtered"),1),s("span",pe,"out of "+c(m.value.length)+" rules",1)]),k.value?v("",!0):(u(),p("button",{key:0,flex:"~ inline gap-2 items-center self-start",border:"~ purple/20 rounded-full","bg-purple:10":"",px3:"",py1:"",onClick:e[4]||(e[4]=l=>$())},e[12]||(e[12]=[s("div",{"i-ph-funnel-duotone":"","text-purple":""},null,-1),s("span",{op50:""},"Clear Filter",-1),s("div",{"i-ph-x":"","ml--1":"","text-sm":"",op25:"","hover:op100":""},null,-1)])))]),n(E)?v("",!0):(u(),p("div",me,[s("button",{"btn-action":"",class:w({"btn-action-active":n(_).viewType==="list"}),onClick:e[5]||(e[5]=l=>n(_).viewType="list")},e[13]||(e[13]=[s("div",{"i-ph-list-duotone":""},null,-1),h(" List ",-1)]),2),s("button",{"btn-action":"",class:w({"btn-action-active":n(_).viewType==="grid"}),onClick:e[6]||(e[6]=l=>n(_).viewType="grid")},e[14]||(e[14]=[s("div",{"i-ph-grid-four-duotone":""},null,-1),h(" Grid ",-1)]),2)]))]),x(P,{my4:"",rules:a.value,"get-bind":l=>({class:n(d).ruleToState.get(l)?.length||n(o).state==="unused"?"":"op40"})},null,8,["rules","get-bind"])])}}});export{ce as default};
